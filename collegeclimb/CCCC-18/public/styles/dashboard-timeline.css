<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - College Climb</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="timeline.css">
    <style>
        /* Add any additional styles here */
    </style>
</head>
<body data-theme="dark">
    <nav class="cc-navbar">
        <a href="index.html" class="cc-logo-section">College Climb</a>
        <div class="cc-nav-right"></div>
    </nav>

    <div class="dashboard-container">
        <h1>Welcome, <span id="userName"></span>!</h1>
        
        <!-- Application Timeline -->
        <div id="applicationTimeline" class="timeline"></div>

        <!-- AI Recommendations -->
        <div id="recommendationsSection"></div>

        <!-- Progress Tracker -->
        <div id="progressTracker"></div>

        <!-- Notifications -->
        <div id="notificationsSection"></div>
    </div>

    <script type="module" src="timeline.js"></script>
    <script type="module" src="recommendations.js"></script>
    <script type="module" src="notifications.js"></script>
    <script>
        // Initialize Firebase and load user data
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.1/firebase-app.js';
        import { getAuth, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.12.1/firebase-auth.js';
        import { getFirestore, doc, getDoc } from 'https://www.gstatic.com/firebasejs/10.12.1/firebase-firestore.js';

        const firebaseConfig = { /* Your Firebase Config */ };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        onAuthStateChanged(auth, async (user) => {
            if (user) {
                const userDoc = await getDoc(doc(db, 'users', user.uid));
                const userData = userDoc.data();
                document.getElementById('userName').textContent = userData.name;

                // Load timeline, recommendations, and notifications
                loadTimeline(user.uid);
                loadRecommendations(user.uid);
                loadNotifications(user.uid);
            }
        });
    </script>
</body>
</html>