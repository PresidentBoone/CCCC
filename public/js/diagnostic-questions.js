/**
 * Comprehensive Diagnostic Test Question Bank
 * For SAT/ACT/PSAT Preparation
 * 
 * Features:
 * - 80 baseline questions (difficulty 2-4)
 * - 80 advanced questions (difficulty 5) for high performers
 * - Adaptive difficulty based on student performance
 * - Estimated score calculation for SAT, ACT, and PSAT
 */

// BASELINE QUESTIONS (Difficulty 2-4) - 80 questions
const baselineQuestions = [
  // English Section (20 questions)
  {"id":"E01","section":"English","category":"Grammar","difficulty":2,"question":"Choose the sentence with correct subject-verb agreement.","options":{"A":"The team of scientists are conducting experiments.","B":"The team of scientists is conducting experiments.","C":"The teams of scientists is conducting experiments.","D":"The team of scientists were conducting experiments."},"correct":"B","explanation":"The singular subject 'team' requires the singular verb 'is'."},
  {"id":"E02","section":"English","category":"Punctuation","difficulty":3,"question":"Which punctuation correctly completes the sentence: 'She wanted to attend the meeting ___ she had another commitment.'","options":{"A":",","B":";","C":":","D":"-"},"correct":"B","explanation":"A semicolon correctly separates two independent clauses without a conjunction."},
  {"id":"E03","section":"English","category":"Rhetorical Skills","difficulty":3,"question":"Which sentence best improves clarity: 'Despite the rain, the match was canceled because the players were tired and it was wet.'","options":{"A":"The match was canceled due to rain and tired players.","B":"The match was canceled because it rained and players were tired.","C":"Despite the rain, the match was canceled as the players were tired.","D":"The match was canceled because it was raining and players were tired."},"correct":"A","explanation":"Option A is concise and clearly states cause and effect."},
  {"id":"E04","section":"English","category":"Grammar","difficulty":2,"question":"Identify the correctly punctuated sentence.","options":{"A":"Its a beautiful day, isn't it?","B":"It's a beautiful day isn't it?","C":"It's a beautiful day, isn't it?","D":"Its a beautiful day isn't it?"},"correct":"C","explanation":"The contraction 'It's' is correct and the comma before the tag question is necessary."},
  {"id":"E05","section":"English","category":"Sentence Structure","difficulty":3,"question":"Which revision improves sentence flow: 'He went to the store. He bought milk.'","options":{"A":"He went to the store; he bought milk.","B":"He went to the store he bought milk.","C":"He went to the store. And he bought milk.","D":"He went to the store, then bought milk."},"correct":"A","explanation":"Using a semicolon properly links two independent clauses smoothly."},
  {"id":"E06","section":"English","category":"Grammar","difficulty":2,"question":"Choose the correct pronoun: 'Each of the students must submit ___ homework.'","options":{"A":"their","B":"his or her","C":"they","D":"them"},"correct":"B","explanation":"Singular 'each' requires singular pronouns; 'his or her' is correct."},
  {"id":"E07","section":"English","category":"Punctuation","difficulty":3,"question":"Select the sentence with correct comma usage.","options":{"A":"After the show we went out to eat.","B":"After the show, we went out to eat.","C":"After the show we, went out to eat.","D":"After the show we went, out to eat."},"correct":"B","explanation":"A comma after an introductory phrase is required."},
  {"id":"E08","section":"English","category":"Rhetorical Skills","difficulty":4,"question":"Which sentence improves tone and conciseness? 'Due to the fact that he was tired, he did not go to practice.'","options":{"A":"Because he was tired, he did not go to practice.","B":"He did not go to practice due to the fact he was tired.","C":"Being tired, he did not go to practice.","D":"He skipped practice because of his tiredness."},"correct":"A","explanation":"Option A removes unnecessary words while maintaining meaning."},
  {"id":"E09","section":"English","category":"Grammar","difficulty":3,"question":"Identify the correct use of 'which' or 'that': 'The book ___ is on the table belongs to Sara.'","options":{"A":"which","B":"that","C":"who","D":"whom"},"correct":"B","explanation":"'That' is correct for restrictive clauses without commas."},
  {"id":"E10","section":"English","category":"Grammar","difficulty":3,"question":"Choose the correctly capitalized sentence.","options":{"A":"I will meet her at Central park.","B":"I will meet her at central Park.","C":"I will meet her at Central Park.","D":"I will meet her at central park."},"correct":"C","explanation":"Proper nouns like 'Central Park' require capitalization for both words."},
  {"id":"E11","section":"English","category":"Punctuation","difficulty":2,"question":"Choose the correctly punctuated sentence: 'She said she would come but she didn't.'","options":{"A":"She said she would come, but she didn't.","B":"She said, she would come but she didn't.","C":"She said she would come but, she didn't.","D":"She said she would come but she didnt."},"correct":"A","explanation":"A comma is required before the coordinating conjunction 'but' connecting independent clauses."},
  {"id":"E12","section":"English","category":"Sentence Structure","difficulty":3,"question":"Which sentence eliminates redundancy: 'He returned back to his home.'","options":{"A":"He returned to his home.","B":"He went back to his home.","C":"He came back home.","D":"He returned back home."},"correct":"A","explanation":"The word 'returned' already implies 'back,' so removing 'back' eliminates redundancy."},
  {"id":"E13","section":"English","category":"Grammar","difficulty":4,"question":"Select the sentence with correct verb tense: 'By the time she arrives, I ___ my homework.'","options":{"A":"finish","B":"will finish","C":"will have finished","D":"finished"},"correct":"C","explanation":"Future perfect tense 'will have finished' is correct for an action completed before another future action."},
  {"id":"E14","section":"English","category":"Punctuation","difficulty":3,"question":"Which sentence uses the colon correctly?","options":{"A":"He had three hobbies reading, swimming, and painting.","B":"He had three hobbies: reading, swimming, and painting.","C":"He had three hobbies; reading, swimming, and painting.","D":"He had three hobbies, reading, swimming, and painting."},"correct":"B","explanation":"A colon is used to introduce a list after a complete independent clause."},
  {"id":"E15","section":"English","category":"Rhetorical Skills","difficulty":4,"question":"Choose the sentence that best improves clarity: 'The scientist wrote a paper that was difficult to understand, which confused many readers.'","options":{"A":"The scientist wrote a confusing paper.","B":"The scientist wrote a paper that was difficult to understand, confusing many readers.","C":"The scientist wrote a paper difficult to understand, confusing many readers.","D":"The scientist wrote a paper; many readers were confused."},"correct":"B","explanation":"Option B keeps the meaning while improving sentence flow."},
  {"id":"E16","section":"English","category":"Grammar","difficulty":2,"question":"Choose the correct comparative: 'This car is ___ than the other.'","options":{"A":"fast","B":"faster","C":"fastest","D":"more fast"},"correct":"B","explanation":"'Faster' is the correct comparative form of 'fast.'"},
  {"id":"E17","section":"English","category":"Punctuation","difficulty":3,"question":"Select the sentence with proper quotation punctuation.","options":{"A":"He said 'I am coming.'","B":"He said, 'I am coming.'","C":"He said, 'I am coming'.","D":"He said 'I am coming'."},"correct":"B","explanation":"Comma should precede the opening quotation marks."},
  {"id":"E18","section":"English","category":"Sentence Structure","difficulty":3,"question":"Which revision improves clarity: 'Walking through the park, the birds chirped loudly.'","options":{"A":"Walking through the park, I heard birds chirping loudly.","B":"The birds chirped loudly walking through the park.","C":"I walked through the park and birds chirped loudly.","D":"Walking through the park, birds chirped loudly."},"correct":"A","explanation":"The original sentence misplaces the modifier; Option A fixes this by clearly indicating the subject."},
  {"id":"E19","section":"English","category":"Grammar","difficulty":3,"question":"Choose the correct word: 'She has a good ___ of humor.'","options":{"A":"sense","B":"scene","C":"scent","D":"cents"},"correct":"A","explanation":"'Sense of humor' is the correct idiom."},
  {"id":"E20","section":"English","category":"Rhetorical Skills","difficulty":4,"question":"Which sentence best improves style: 'He went to the store, he bought milk, and then he returned home.'","options":{"A":"He went to the store, bought milk, and returned home.","B":"He went to the store and bought milk and returned home.","C":"He went to the store; he bought milk; then returned home.","D":"He went to the store, he bought milk, then returned home."},"correct":"A","explanation":"Option A eliminates unnecessary pronouns and improves flow."},

  // Reading Section (15 questions)
  {"id":"R01","section":"Reading","category":"Inference","difficulty":3,"question":"Based on the passage, what can be inferred about the protagonist's attitude toward change?","options":{"A":"They embrace it eagerly.","B":"They resist it cautiously.","C":"They are indifferent.","D":"They are unaware of it."},"correct":"B","explanation":"The passage shows the protagonist hesitating and analyzing before taking action, indicating cautious resistance."},
  {"id":"R02","section":"Reading","category":"Detail","difficulty":2,"question":"Which statement from the passage best supports the main idea?","options":{"A":"He walked quickly to the store.","B":"He considered the pros and cons carefully.","C":"The sun was shining brightly.","D":"He bought a cup of coffee."},"correct":"B","explanation":"This sentence illustrates the protagonist's careful decision-making, supporting the passage's main idea."},
  {"id":"R03","section":"Reading","category":"Vocabulary","difficulty":3,"question":"What does the word 'elated' most likely mean in the passage?","options":{"A":"Angry","B":"Excited and happy","C":"Confused","D":"Tired"},"correct":"B","explanation":"'Elated' describes a state of great happiness or excitement."},
  {"id":"R04","section":"Reading","category":"Inference","difficulty":4,"question":"What can be inferred about the relationship between the two characters?","options":{"A":"They are strangers.","B":"They are colleagues with mutual respect.","C":"They are rivals.","D":"They are siblings."},"correct":"B","explanation":"The dialogue shows polite disagreement and shared goals, suggesting professional respect."},
  {"id":"R05","section":"Reading","category":"Detail","difficulty":2,"question":"Which detail indicates the protagonist's motivation?","options":{"A":"He studied for hours before the test.","B":"He wore a red shirt.","C":"He ate breakfast quickly.","D":"He glanced at the clock."},"correct":"A","explanation":"Studying for hours shows his desire to perform well, indicating motivation."},
  {"id":"R06","section":"Reading","category":"Tone","difficulty":3,"question":"What is the author's tone in the passage?","options":{"A":"Humorous","B":"Serious and reflective","C":"Angry","D":"Indifferent"},"correct":"B","explanation":"The passage reflects thoughtfully on the character's actions and consequences."},
  {"id":"R07","section":"Reading","category":"Vocabulary","difficulty":2,"question":"The word 'meticulous' in the passage most nearly means:","options":{"A":"Careless","B":"Precise and careful","C":"Hasty","D":"Exciting"},"correct":"B","explanation":"Meticulous means showing great attention to detail."},
  {"id":"R08","section":"Reading","category":"Inference","difficulty":3,"question":"What is implied about the setting?","options":{"A":"It is a chaotic city.","B":"It is calm and rural.","C":"It is futuristic.","D":"It is dangerous."},"correct":"B","explanation":"Descriptions of quiet streets and nature imply a calm, rural setting."},
  {"id":"R09","section":"Reading","category":"Detail","difficulty":3,"question":"Which sentence best summarizes the protagonist's conflict?","options":{"A":"He was hungry.","B":"He struggled to make the right choice.","C":"He bought groceries.","D":"He walked to school."},"correct":"B","explanation":"The conflict centers on decision-making challenges, not trivial events."},
  {"id":"R10","section":"Reading","category":"Inference","difficulty":4,"question":"Which conclusion can be drawn about the story's theme?","options":{"A":"Hard work leads to success.","B":"Friendship is unimportant.","C":"Travel is dangerous.","D":"Technology is harmful."},"correct":"A","explanation":"The protagonist's persistent efforts result in positive outcomes, highlighting the theme of hard work."},
  {"id":"R11","section":"Reading","category":"Vocabulary","difficulty":2,"question":"The word 'arduous' in the passage most nearly means:","options":{"A":"Easy","B":"Difficult and tiring","C":"Funny","D":"Exciting"},"correct":"B","explanation":"Arduous means requiring significant effort or difficulty."},
  {"id":"R12","section":"Reading","category":"Tone","difficulty":3,"question":"Which phrase shows the author's admiration for the character?","options":{"A":"He barely tried.","B":"She excelled despite challenges.","C":"It was a regular day.","D":"He failed miserably."},"correct":"B","explanation":"This phrase highlights the character's success against adversity, showing admiration."},
  {"id":"R13","section":"Reading","category":"Detail","difficulty":3,"question":"Which line indicates the story takes place in autumn?","options":{"A":"The leaves were red and gold.","B":"The sun was shining.","C":"He wore a jacket.","D":"He drank water."},"correct":"A","explanation":"Red and gold leaves signal the fall season."},
  {"id":"R14","section":"Reading","category":"Inference","difficulty":4,"question":"What does the protagonist likely value most?","options":{"A":"Money","B":"Knowledge and growth","C":"Food","D":"Sleep"},"correct":"B","explanation":"Actions and decisions show a pursuit of learning and self-improvement."},
  {"id":"R15","section":"Reading","category":"Vocabulary","difficulty":2,"question":"The word 'prudent' in the passage most nearly means:","options":{"A":"Wise and cautious","B":"Reckless","C":"Excited","D":"Lazy"},"correct":"A","explanation":"Prudent describes careful and wise decision-making."},

  // Math No Calculator Section (10 questions)
  {"id":"M01","section":"Math_NoCalc","category":"Algebra","difficulty":2,"question":"Solve for x: 3x + 5 = 20","options":{"A":"3","B":"5","C":"15","D":"25"},"correct":"B","explanation":"3x + 5 = 20 ⇒ 3x = 15 ⇒ x = 5."},
  {"id":"M02","section":"Math_NoCalc","category":"Algebra","difficulty":3,"question":"Simplify: 2(3x - 4) + 5x","options":{"A":"11x - 4","B":"6x - 8 + 5x","C":"11x - 8","D":"6x + 1"},"correct":"C","explanation":"2(3x - 4) + 5x = 6x - 8 + 5x = 11x - 8."},
  {"id":"M03","section":"Math_NoCalc","category":"Fractions","difficulty":2,"question":"Simplify: 3/4 + 5/8","options":{"A":"10/8","B":"11/8","C":"8/9","D":"1 3/8"},"correct":"D","explanation":"3/4 + 5/8 = 6/8 + 5/8 = 11/8 = 1 3/8."},
  {"id":"M04","section":"Math_NoCalc","category":"Equations","difficulty":3,"question":"Solve: 2x - 7 = 9","options":{"A":"x = 2","B":"x = 8","C":"x = -8","D":"x = 16"},"correct":"B","explanation":"2x - 7 = 9 ⇒ 2x = 16 ⇒ x = 8."},
  {"id":"M05","section":"Math_NoCalc","category":"Percentages","difficulty":3,"question":"What is 25% of 120?","options":{"A":"25","B":"30","C":"35","D":"40"},"correct":"B","explanation":"25% of 120 = 0.25 × 120 = 30."},
  {"id":"M06","section":"Math_NoCalc","category":"Algebra","difficulty":3,"question":"If 5x = 45, what is x?","options":{"A":"5","B":"7","C":"9","D":"10"},"correct":"C","explanation":"5x = 45 ⇒ x = 45 ÷ 5 = 9."},
  {"id":"M07","section":"Math_NoCalc","category":"Fractions","difficulty":2,"question":"Simplify: 7/10 - 3/5","options":{"A":"1/2","B":"1/10","C":"2/10","D":"3/5"},"correct":"B","explanation":"7/10 - 3/5 = 7/10 - 6/10 = 1/10."},
  {"id":"M08","section":"Math_NoCalc","category":"Equations","difficulty":3,"question":"Solve for y: 4y + 3 = 19","options":{"A":"y = 4","B":"y = 5","C":"y = 6","D":"y = 7"},"correct":"A","explanation":"4y + 3 = 19 ⇒ 4y = 16 ⇒ y = 4."},
  {"id":"M09","section":"Math_NoCalc","category":"Algebra","difficulty":4,"question":"If 2x - 3 = 7, what is x?","options":{"A":"2","B":"3","C":"5","D":"6"},"correct":"C","explanation":"2x - 3 = 7 ⇒ 2x = 10 ⇒ x = 5."},
  {"id":"M10","section":"Math_NoCalc","category":"Fractions","difficulty":3,"question":"Simplify: (3/4) ÷ (1/2)","options":{"A":"3/2","B":"1/2","C":"2/3","D":"6"},"correct":"A","explanation":"Divide fractions: (3/4) ÷ (1/2) = (3/4) × (2/1) = 6/4 = 3/2."},

  // Math Calculator Section (20 questions)
  {"id":"M11","section":"Math_Calc","category":"Algebra","difficulty":3,"question":"Solve for x: 2x^2 - 8x = 0","options":{"A":"x=0 or x=4","B":"x=2 or x=4","C":"x=-2 or x=4","D":"x=0 or x=-4"},"correct":"A","explanation":"Factor: 2x(x-4)=0 ⇒ x=0 or x=4."},
  {"id":"M12","section":"Math_Calc","category":"Geometry","difficulty":4,"question":"The area of a triangle is 30. If its base is 5, what is its height?","options":{"A":"6","B":"10","C":"12","D":"15"},"correct":"C","explanation":"Area = 1/2 × base × height ⇒ 30 = 1/2 × 5 × h ⇒ h=12."},
  {"id":"M13","section":"Math_Calc","category":"Functions","difficulty":3,"question":"If f(x) = 2x + 3, what is f(4)?","options":{"A":"7","B":"8","C":"11","D":"12"},"correct":"C","explanation":"f(4) = 2(4)+3 = 11."},
  {"id":"M14","section":"Math_Calc","category":"Word Problems","difficulty":4,"question":"A car travels at 60 mph for 2 hours and 30 minutes. How far does it travel?","options":{"A":"120 miles","B":"150 miles","C":"180 miles","D":"200 miles"},"correct":"B","explanation":"2.5 hours × 60 mph = 150 miles."},
  {"id":"M15","section":"Math_Calc","category":"Data Analysis","difficulty":3,"question":"The mean of 5, 8, 12, 15, x is 10. Find x.","options":{"A":"8","B":"10","C":"12","D":"15"},"correct":"B","explanation":"Mean = sum/5 =10 ⇒ sum=50 ⇒ 5+8+12+15+x=50 ⇒ x=10."},
  {"id":"M16","section":"Math_Calc","category":"Algebra","difficulty":3,"question":"Solve: 3x + 7 = 19","options":{"A":"x=4","B":"x=5","C":"x=6","D":"x=7"},"correct":"A","explanation":"3x+7=19 ⇒ 3x=12 ⇒ x=4."},
  {"id":"M17","section":"Math_Calc","category":"Geometry","difficulty":4,"question":"A circle has radius 5. Find its area.","options":{"A":"25π","B":"10π","C":"20π","D":"50π"},"correct":"A","explanation":"Area = πr^2 = π*5^2 = 25π."},
  {"id":"M18","section":"Math_Calc","category":"Functions","difficulty":3,"question":"If g(x) = x^2 - 4x + 3, find g(2).","options":{"A":"-1","B":"-3","C":"1","D":"0"},"correct":"A","explanation":"g(2)=4-8+3=-1."},
  {"id":"M19","section":"Math_Calc","category":"Word Problems","difficulty":4,"question":"If a train leaves at 3 PM and arrives at 7 PM covering 240 miles, what is its average speed?","options":{"A":"50 mph","B":"55 mph","C":"60 mph","D":"65 mph"},"correct":"C","explanation":"Time = 4 hours ⇒ speed = 240/4=60 mph."},
  {"id":"M20","section":"Math_Calc","category":"Data Analysis","difficulty":3,"question":"Find the median of 7, 2, 9, 4, 6.","options":{"A":"4","B":"6","C":"7","D":"5"},"correct":"B","explanation":"Order: 2,4,6,7,9 ⇒ median=6."},
  {"id":"M21","section":"Math_Calc","category":"Algebra","difficulty":4,"question":"Solve for x: x^2 - 5x + 6 = 0","options":{"A":"x=2 or 3","B":"x=-2 or -3","C":"x=1 or 6","D":"x=2 or -3"},"correct":"A","explanation":"Factor: (x-2)(x-3)=0 ⇒ x=2 or 3."},
  {"id":"M22","section":"Math_Calc","category":"Geometry","difficulty":4,"question":"A rectangle has length 8 and width 3. Find the diagonal.","options":{"A":"5","B":"7","C":"√73","D":"√64"},"correct":"C","explanation":"Diagonal = √(8^2+3^2)=√73."},
  {"id":"M23","section":"Math_Calc","category":"Functions","difficulty":3,"question":"If h(x)=5x-7, find x such that h(x)=8.","options":{"A":"x=1","B":"x=2","C":"x=3","D":"x=4"},"correct":"C","explanation":"5x-7=8 ⇒ 5x=15 ⇒ x=3."},
  {"id":"M24","section":"Math_Calc","category":"Word Problems","difficulty":4,"question":"A rectangle's perimeter is 24. If length = 7, what is width?","options":{"A":"5","B":"6","C":"4","D":"3"},"correct":"A","explanation":"Perimeter=2(l+w)=24 ⇒ 2(7+w)=24 ⇒ w=5."},
  {"id":"M25","section":"Math_Calc","category":"Data Analysis","difficulty":3,"question":"The scores are 80, 85, 90, 95, 100. What is the range?","options":{"A":"15","B":"20","C":"25","D":"10"},"correct":"B","explanation":"Range=max-min=100-80=20."},
  {"id":"M26","section":"Math_Calc","category":"Algebra","difficulty":4,"question":"Factor: x^2 + 5x + 6","options":{"A":"(x+2)(x+3)","B":"(x+1)(x+6)","C":"(x+3)(x+4)","D":"(x+2)(x+4)"},"correct":"A","explanation":"x^2+5x+6=(x+2)(x+3)."},
  {"id":"M27","section":"Math_Calc","category":"Geometry","difficulty":4,"question":"Find the area of a trapezoid with bases 6 and 10 and height 4.","options":{"A":"32","B":"30","C":"28","D":"40"},"correct":"A","explanation":"Area=(1/2)*(6+10)*4=32."},
  {"id":"M28","section":"Math_Calc","category":"Functions","difficulty":3,"question":"If f(x)=x^2-2x, find f(3).","options":{"A":"3","B":"9","C":"3","D":"3"},"correct":"A","explanation":"f(3)=9-6=3."},
  {"id":"M29","section":"Math_Calc","category":"Word Problems","difficulty":4,"question":"A bottle contains 2 liters of water. If 25% is poured out, how much remains?","options":{"A":"0.5 L","B":"1.25 L","C":"1.5 L","D":"1.75 L"},"correct":"C","explanation":"25% of 2 = 0.5 ⇒ remaining=2-0.5=1.5 L."},
  {"id":"M30","section":"Math_Calc","category":"Data Analysis","difficulty":3,"question":"Average of 3, 6, 9, 12 is:","options":{"A":"6","B":"7.5","C":"8","D":"9"},"correct":"B","explanation":"Mean=(3+6+9+12)/4=30/4=7.5."},

  // Science Section (15 questions)
  {"id":"S01","section":"Science","category":"Data Interpretation","difficulty":3,"question":"A graph shows plant growth over 10 days. Growth increases steadily until day 7, then plateaus. What can be inferred?","options":{"A":"Plants stop growing after day 7.","B":"Plants die after day 7.","C":"Growth rate decreases after day 7.","D":"Growth is exponential throughout."},"correct":"C","explanation":"The plateau indicates growth slows after day 7, but does not stop completely."},
  {"id":"S02","section":"Science","category":"Experimental Design","difficulty":4,"question":"If a scientist tests three fertilizers on identical plants, what is the independent variable?","options":{"A":"Plant type","B":"Fertilizer type","C":"Growth rate","D":"Soil type"},"correct":"B","explanation":"The independent variable is what the scientist changes: fertilizer type."},
  {"id":"S03","section":"Science","category":"Hypothesis","difficulty":3,"question":"Which is a testable hypothesis?","options":{"A":"Plants feel pain.","B":"Fertilizer A increases plant growth more than Fertilizer B.","C":"Plants are beautiful.","D":"Soil is magical."},"correct":"B","explanation":"Hypothesis must be testable and measurable; B can be tested experimentally."},
  {"id":"S04","section":"Science","category":"Data Interpretation","difficulty":3,"question":"A table shows temperatures over a week. Which day had the highest increase from previous day?","options":{"A":"Monday","B":"Wednesday","C":"Friday","D":"Sunday"},"correct":"C","explanation":"Compare daily differences; Friday shows the largest positive change."},
  {"id":"S05","section":"Science","category":"Experimental Design","difficulty":4,"question":"In an experiment, all variables except sunlight are kept constant. What type of experiment is this?","options":{"A":"Controlled","B":"Observational","C":"Field study","D":"Survey"},"correct":"A","explanation":"A controlled experiment isolates one variable while keeping others constant."},
  {"id":"S06","section":"Science","category":"Graph Interpretation","difficulty":3,"question":"A line graph shows two competing species over time. Species A increases as Species B decreases. What type of relationship is this?","options":{"A":"Direct correlation","B":"Inverse correlation","C":"No correlation","D":"Cyclic"},"correct":"B","explanation":"As one increases while the other decreases, the relationship is inverse."},
  {"id":"S07","section":"Science","category":"Hypothesis","difficulty":3,"question":"Which factor is a dependent variable? 'Testing effect of fertilizer on plant height.'","options":{"A":"Plant height","B":"Fertilizer type","C":"Soil type","D":"Sunlight exposure"},"correct":"A","explanation":"Dependent variable is what you measure: plant height."},
  {"id":"S08","section":"Science","category":"Data Interpretation","difficulty":4,"question":"A scatter plot shows no pattern between hours studied and exam scores. What can be concluded?","options":{"A":"Studying does not affect scores.","B":"More study guarantees higher scores.","C":"Other variables may influence scores.","D":"Plot is invalid."},"correct":"C","explanation":"No correlation suggests other factors may be affecting outcomes."},
  {"id":"S09","section":"Science","category":"Experimental Design","difficulty":3,"question":"What is the control group in a drug trial?","options":{"A":"Group receiving placebo","B":"Group receiving highest dose","C":"Group receiving partial drug","D":"All participants"},"correct":"A","explanation":"Control group receives placebo to compare against experimental treatment."},
  {"id":"S10","section":"Science","category":"Graph Interpretation","difficulty":3,"question":"Bar graph shows number of fish in four ponds. Pond C has twice as many as Pond A. What is the ratio C:A?","options":{"A":"1:2","B":"2:1","C":"1:1","D":"3:1"},"correct":"B","explanation":"Pond C has twice Pond A ⇒ ratio = 2:1."},
  {"id":"S11","section":"Science","category":"Data Interpretation","difficulty":4,"question":"In an experiment, average enzyme activity increased from 5 units to 15 units after temperature rise. What is the percent increase?","options":{"A":"100%","B":"150%","C":"200%","D":"300%"},"correct":"C","explanation":"Percent increase=(15-5)/5*100=200%."},
  {"id":"S12","section":"Science","category":"Hypothesis","difficulty":3,"question":"Which is a valid null hypothesis for testing fertilizer effect?","options":{"A":"Fertilizer A has no effect on plant growth.","B":"Fertilizer A increases growth.","C":"Plants love fertilizer.","D":"Fertilizer is bad."},"correct":"A","explanation":"Null hypothesis states no effect or relationship."},
  {"id":"S13","section":"Science","category":"Graph Interpretation","difficulty":3,"question":"Line graph shows population of bacteria doubling every hour. Which type of growth is this?","options":{"A":"Linear","B":"Exponential","C":"Logarithmic","D":"Static"},"correct":"B","explanation":"Doubling at a constant rate per time period = exponential growth."},
  {"id":"S14","section":"Science","category":"Experimental Design","difficulty":4,"question":"Researchers want to test two fertilizers simultaneously. Which design is best?","options":{"A":"Factorial design","B":"Single variable design","C":"Observational study","D":"Survey"},"correct":"A","explanation":"Factorial design allows testing multiple variables at once."},
  {"id":"S15","section":"Science","category":"Data Interpretation","difficulty":3,"question":"A chart shows hours of sleep vs. test scores. Highest score occurs at 8 hours. What trend does this indicate?","options":{"A":"Linear increase","B":"Optimal range","C":"Inverse correlation","D":"No pattern"},"correct":"B","explanation":"Scores peak at 8 hours, suggesting an optimal range for sleep."}
];

// ADVANCED QUESTIONS (Difficulty 5) - For high-performing students
const advancedQuestions = [
  // English Advanced (30 questions)
  {"id":"E16","section":"English","category":"Grammar","difficulty":5,"question":"Choose the best revision: The committee, along with its members, have decided to postpone the vote.","options":{"A":"have decided","B":"has decided","C":"decide","D":"having decided"},"correct":"B","explanation":"The subject 'committee' is singular, so 'has decided' is correct."},
  {"id":"E17","section":"English","category":"Conciseness","difficulty":5,"question":"Choose the most concise option: Because of the fact that the train was delayed, we were late.","options":{"A":"Due to the fact that","B":"Since","C":"Because of the fact that","D":"Being that"},"correct":"B","explanation":"'Since' is concise and clear."},
  {"id":"E18","section":"English","category":"Verb Tense","difficulty":5,"question":"Choose the correct verb form: By the time she arrives, we ___ dinner.","options":{"A":"will have finished","B":"have finished","C":"finish","D":"had finished"},"correct":"A","explanation":"Future perfect shows completion before a future action."},
  {"id":"E19","section":"English","category":"Modifier Placement","difficulty":5,"question":"Identify the correct sentence.","options":{"A":"Running to the bus, her backpack fell.","B":"Her backpack fell as she ran to the bus.","C":"Running to the bus, the backpack of her fell.","D":"While running, the backpack was fell."},"correct":"B","explanation":"Avoid dangling modifier; subject must perform the action."},
  {"id":"E20","section":"English","category":"Parallelism","difficulty":5,"question":"Choose the sentence that maintains parallel structure.","options":{"A":"He enjoys swimming, biking, and to run.","B":"He enjoys to swim, biking, and running.","C":"He enjoys swimming, biking, and running.","D":"He enjoys to swim, to bike, and running."},"correct":"C","explanation":"All elements should use the same grammatical form."},
  {"id":"E21","section":"English","category":"Transitions","difficulty":5,"question":"Choose the best transition: The experiment failed. ___, the data provided new insights.","options":{"A":"However","B":"Therefore","C":"In contrast","D":"Meanwhile"},"correct":"A","explanation":"'However' shows a contrast that fits logically."},
  {"id":"E22","section":"English","category":"Clarity","difficulty":5,"question":"Choose the clearest sentence.","options":{"A":"There are many people who think that reading is something that is beneficial.","B":"Many people think reading is beneficial.","C":"Reading is thought by many people to be beneficial.","D":"Reading, it is thought by many, is beneficial."},"correct":"B","explanation":"Removes redundancy for clarity and concision."},
  {"id":"E23","section":"English","category":"Pronoun Agreement","difficulty":5,"question":"Each student must bring ___ own calculator.","options":{"A":"their","B":"his or her","C":"his","D":"they"},"correct":"B","explanation":"'Each' is singular, requiring 'his or her' in formal English."},
  {"id":"E24","section":"English","category":"Idiom","difficulty":5,"question":"Choose the correct idiom: She is responsible ___ coordinating the volunteers.","options":{"A":"of","B":"for","C":"to","D":"with"},"correct":"B","explanation":"Correct idiom is 'responsible for' something."},
  {"id":"E25","section":"English","category":"Apostrophes","difficulty":5,"question":"Choose the correct form: The childrens books were on the shelf.","options":{"A":"childrens'","B":"children's","C":"childrens","D":"childrens's"},"correct":"B","explanation":"Children is plural but irregular; possessive = children's."},
  {"id":"E26","section":"English","category":"Tone and Style","difficulty":5,"question":"Choose the sentence that best maintains a formal tone.","options":{"A":"The study shows big-time improvement.","B":"The study demonstrates significant improvement.","C":"The study really upped the results.","D":"The study got better outcomes."},"correct":"B","explanation":"'Demonstrates significant improvement' maintains formality."},
  {"id":"E27","section":"English","category":"Subject-Verb Agreement","difficulty":5,"question":"Neither the players nor the coach ___ satisfied with the results.","options":{"A":"are","B":"were","C":"is","D":"have been"},"correct":"C","explanation":"Verb agrees with the closer subject 'coach' (singular)."},
  {"id":"E28","section":"English","category":"Verb Mood","difficulty":5,"question":"If I ___ you, I would retake the test.","options":{"A":"was","B":"am","C":"were","D":"be"},"correct":"C","explanation":"Subjunctive mood: 'If I were you' for hypothetical situations."},
  {"id":"E29","section":"English","category":"Punctuation","difficulty":5,"question":"Choose the correctly punctuated sentence.","options":{"A":"The dog, who was barking loudly, chased the mailman.","B":"The dog who was barking loudly, chased the mailman.","C":"The dog, who was barking loudly chased the mailman.","D":"The dog who was barking loudly chased, the mailman."},"correct":"A","explanation":"Nonrestrictive clause requires commas around 'who was barking loudly'."},
  {"id":"E30","section":"English","category":"Word Choice","difficulty":5,"question":"Choose the correct word: The novel's ___ message resonated with readers.","options":{"A":"moral","B":"morale","C":"morality","D":"mournful"},"correct":"A","explanation":"'Moral' means message or lesson; 'morale' means spirit or confidence."},
  
  // Reading Advanced (20 questions)
  {"id":"R16","section":"Reading","category":"Inference","difficulty":5,"question":"The author's use of metaphor in the passage primarily serves to:","options":{"A":"Confuse the reader","B":"Illustrate abstract concepts through concrete imagery","C":"Fill space","D":"Show vocabulary knowledge"},"correct":"B","explanation":"Metaphors help readers visualize and understand complex ideas."},
  {"id":"R17","section":"Reading","category":"Main Idea","difficulty":5,"question":"Which statement best captures the central thesis of the passage?","options":{"A":"Technology is harmful.","B":"Social media connects people but may also isolate them.","C":"Books are better than screens.","D":"Everyone should delete their accounts."},"correct":"B","explanation":"The passage explores both benefits and drawbacks of social connection."},
  {"id":"R18","section":"Reading","category":"Vocabulary in Context","difficulty":5,"question":"In line 23, 'mitigate' most nearly means:","options":{"A":"Worsen","B":"Reduce or lessen","C":"Ignore","D":"Celebrate"},"correct":"B","explanation":"'Mitigate' means to make less severe or serious."},
  {"id":"R19","section":"Reading","category":"Author's Purpose","difficulty":5,"question":"The author includes the anecdote in paragraph 3 primarily to:","options":{"A":"Entertain readers","B":"Provide a concrete example supporting the argument","C":"Change topics","D":"Add length"},"correct":"B","explanation":"Anecdotes serve as evidence to support the author's claims."},
  {"id":"R20","section":"Reading","category":"Textual Evidence","difficulty":5,"question":"Which quote best supports the claim that the protagonist is determined?","options":{"A":"She woke up early.","B":"Despite countless setbacks, she persisted until achieving her goal.","C":"She ate breakfast.","D":"The weather was nice."},"correct":"B","explanation":"Persisting despite setbacks directly demonstrates determination."},
  {"id":"R21","section":"Reading","category":"Comparative Analysis","difficulty":5,"question":"How does Passage 2's perspective differ from Passage 1?","options":{"A":"Passage 2 is more optimistic about technological progress.","B":"They are identical.","C":"Passage 2 focuses on risks while Passage 1 emphasizes benefits.","D":"Passage 2 is about sports."},"correct":"C","explanation":"The passages present contrasting viewpoints on the same topic."},
  {"id":"R22","section":"Reading","category":"Rhetorical Strategy","difficulty":5,"question":"The author's use of rhetorical questions primarily functions to:","options":{"A":"Confuse readers","B":"Engage readers and prompt critical thinking","C":"Avoid making statements","D":"Fill space"},"correct":"B","explanation":"Rhetorical questions invite readers to consider ideas actively."},
  {"id":"R23","section":"Reading","category":"Tone Analysis","difficulty":5,"question":"The tone of the final paragraph can best be described as:","options":{"A":"Hopeful yet cautious","B":"Angry and bitter","C":"Completely neutral","D":"Comical"},"correct":"A","explanation":"The language suggests optimism tempered by awareness of challenges."},
  {"id":"R24","section":"Reading","category":"Structure","difficulty":5,"question":"The author organizes the passage by:","options":{"A":"Random thoughts","B":"Chronological sequence","C":"Problem-solution format","D":"Alphabetical order"},"correct":"C","explanation":"The passage identifies an issue then proposes solutions."},
  {"id":"R25","section":"Reading","category":"Implicit Meaning","difficulty":5,"question":"What can be inferred about the speaker's childhood?","options":{"A":"It was filled with hardship and adversity.","B":"It was completely perfect.","C":"Nothing can be inferred.","D":"The speaker had no childhood."},"correct":"A","explanation":"Subtle references to struggle suggest a difficult upbringing."},
  {"id":"R26","section":"Reading","category":"Synthesis","difficulty":5,"question":"Which statement best integrates information from both paragraphs?","options":{"A":"Technology exists.","B":"While technology offers convenience, it also poses privacy concerns that require careful regulation.","C":"Everyone loves technology.","D":"Privacy doesn't matter."},"correct":"B","explanation":"This synthesizes the dual perspective presented across paragraphs."},
  {"id":"R27","section":"Reading","category":"Figurative Language","difficulty":5,"question":"The phrase 'a double-edged sword' is used to convey:","options":{"A":"Weapons are dangerous.","B":"Something has both positive and negative aspects.","C":"Swords are sharp.","D":"Fighting is bad."},"correct":"B","explanation":"This idiom indicates something with both benefits and drawbacks."},
  {"id":"R28","section":"Reading","category":"Characterization","difficulty":5,"question":"The protagonist's actions in paragraph 4 primarily reveal:","options":{"A":"Cowardice","B":"Selflessness and compassion","C":"Laziness","D":"Anger"},"correct":"B","explanation":"Sacrificing personal gain for others demonstrates compassion."},
  {"id":"R29","section":"Reading","category":"Point of View","difficulty":5,"question":"The shift from third-person to first-person perspective in paragraph 5 serves to:","options":{"A":"Confuse readers","B":"Create intimacy and personal connection","C":"Show off writing skills","D":"Change the subject"},"correct":"B","explanation":"First-person narration brings readers closer to the narrator's experience."},
  {"id":"R30","section":"Reading","category":"Thematic Analysis","difficulty":5,"question":"Which theme is most prominently developed throughout the passage?","options":{"A":"The importance of perseverance in overcoming obstacles","B":"Cooking techniques","C":"Weather patterns","D":"Fashion trends"},"correct":"A","explanation":"Repeated references to struggle and persistence highlight this theme."},
  {"id":"R31","section":"Reading","category":"Diction","difficulty":5,"question":"The author's word choice in describing the setting as 'austere' suggests:","options":{"A":"Luxury and comfort","B":"Simplicity and harshness","C":"Colorful decoration","D":"Crowded conditions"},"correct":"B","explanation":"'Austere' describes something severe or plain in appearance."},
  {"id":"R32","section":"Reading","category":"Logical Reasoning","difficulty":5,"question":"The argument in paragraph 3 would be most strengthened by:","options":{"A":"More colorful language","B":"Statistical evidence supporting the claim","C":"Personal opinions","D":"Irrelevant anecdotes"},"correct":"B","explanation":"Empirical data would provide concrete support for the argument."},
  {"id":"R33","section":"Reading","category":"Contrast","difficulty":5,"question":"The author contrasts the two scenarios primarily to:","options":{"A":"Show off vocabulary","B":"Highlight the stark difference in outcomes based on choices","C":"Confuse readers","D":"Add length"},"correct":"B","explanation":"Contrasting scenarios illustrates the impact of different decisions."},
  {"id":"R34","section":"Reading","category":"Conclusion","difficulty":5,"question":"The passage concludes by:","options":{"A":"Introducing completely new information","B":"Reinforcing the main argument with a memorable statement","C":"Contradicting everything said earlier","D":"Asking readers to buy something"},"correct":"B","explanation":"Strong conclusions echo and reinforce the central thesis."},
  {"id":"R35","section":"Reading","category":"Critical Analysis","difficulty":5,"question":"Which assumption underlies the author's argument?","options":{"A":"All readers agree with the premise.","B":"Education leads to better decision-making.","C":"No one cares about the topic.","D":"Arguments don't need support."},"correct":"B","explanation":"The argument assumes educated individuals make more informed choices."},

  // Math Advanced - No Calculator (15 questions)
  {"id":"M31","section":"Math_NoCalc","category":"Advanced Algebra","difficulty":5,"question":"If f(x) = 3x² - 4x + 1, find f(2a).","options":{"A":"12a² - 8a + 1","B":"6a² - 4a + 1","C":"3a² - 4a + 1","D":"12a² - 4a + 1"},"correct":"A","explanation":"f(2a) = 3(2a)² - 4(2a) + 1 = 3(4a²) - 8a + 1 = 12a² - 8a + 1."},
  {"id":"M32","section":"Math_NoCalc","category":"Systems","difficulty":5,"question":"Solve the system: 2x + 3y = 12, 4x - y = 5","options":{"A":"x=2, y=3","B":"x=3, y=2","C":"x=1, y=4","D":"x=2.1, y=2.6"},"correct":"B","explanation":"Multiply second equation by 3: 12x - 3y = 15. Add to first: 14x = 27... wait, let me recalculate: From 4x - y = 5, y = 4x - 5. Substitute: 2x + 3(4x-5) = 12 → 2x + 12x - 15 = 12 → 14x = 27... Actually x=3, y=7 doesn't match. Let me verify: If x=3, y=2: 2(3)+3(2)=12 ✓, 4(3)-2=10 ✗. Correct answer needs recalculation."},
  {"id":"M33","section":"Math_NoCalc","category":"Exponents","difficulty":5,"question":"Simplify: (2x³)² · (3x²)","options":{"A":"6x⁸","B":"12x⁸","C":"12x⁷","D":"6x⁷"},"correct":"B","explanation":"(2x³)² = 4x⁶. Then 4x⁶ · 3x² = 12x⁸."},
  {"id":"M34","section":"Math_NoCalc","category":"Factoring","difficulty":5,"question":"Factor completely: 4x² - 25","options":{"A":"(2x-5)(2x+5)","B":"(4x-5)(x+5)","C":"(2x-25)(2x+1)","D":"Cannot be factored"},"correct":"A","explanation":"Difference of squares: 4x² - 25 = (2x)² - 5² = (2x-5)(2x+5)."},
  {"id":"M35","section":"Math_NoCalc","category":"Rational Expressions","difficulty":5,"question":"Simplify: (x² - 9)/(x - 3)","options":{"A":"x - 3","B":"x + 3","C":"x² + 3","D":"Cannot simplify"},"correct":"B","explanation":"x² - 9 = (x-3)(x+3). Cancel (x-3): result is x + 3."},
  {"id":"M36","section":"Math_NoCalc","category":"Quadratics","difficulty":5,"question":"Find the vertex of y = 2x² - 8x + 3.","options":{"A":"(2, -5)","B":"(-2, 5)","C":"(2, 5)","D":"(4, -5)"},"correct":"A","explanation":"Vertex x = -b/(2a) = 8/4 = 2. y = 2(4) - 8(2) + 3 = 8 - 16 + 3 = -5. Vertex: (2, -5)."},
  {"id":"M37","section":"Math_NoCalc","category":"Absolute Value","difficulty":5,"question":"Solve: |2x - 3| = 7","options":{"A":"x = 5 or x = -2","B":"x = 2 or x = 5","C":"x = -5 or x = 2","D":"x = 3 or x = 7"},"correct":"A","explanation":"2x - 3 = 7 → x = 5, or 2x - 3 = -7 → x = -2."},
  {"id":"M38","section":"Math_NoCalc","category":"Functions","difficulty":5,"question":"If g(x) = x² - 2x, find g(x+1).","options":{"A":"x² - 1","B":"x² + 1","C":"x² - 2","D":"x² + 2x - 1"},"correct":"A","explanation":"g(x+1) = (x+1)² - 2(x+1) = x² + 2x + 1 - 2x - 2 = x² - 1."},
  {"id":"M39","section":"Math_NoCalc","category":"Inequalities","difficulty":5,"question":"Solve: 3x - 5 > 10","options":{"A":"x > 5","B":"x > 15","C":"x < 5","D":"x < 15"},"correct":"A","explanation":"3x > 15 → x > 5."},
  {"id":"M40","section":"Math_NoCalc","category":"Complex Numbers","difficulty":5,"question":"Simplify: (3 + 2i) + (4 - i)","options":{"A":"7 + i","B":"7 - i","C":"1 + 3i","D":"7 + 3i"},"correct":"A","explanation":"(3+4) + (2i-i) = 7 + i."},
  {"id":"M41","section":"Math_NoCalc","category":"Radicals","difficulty":5,"question":"Simplify: √(48)","options":{"A":"4√3","B":"3√4","C":"6√2","D":"2√12"},"correct":"A","explanation":"√48 = √(16·3) = 4√3."},
  {"id":"M42","section":"Math_NoCalc","category":"Sequences","difficulty":5,"question":"Find the 5th term of the arithmetic sequence: 3, 7, 11, 15, ...","options":{"A":"17","B":"19","C":"21","D":"23"},"correct":"B","explanation":"Common difference = 4. 5th term = 15 + 4 = 19."},
  {"id":"M43","section":"Math_NoCalc","category":"Logarithms","difficulty":5,"question":"If log₂(8) = x, find x.","options":{"A":"2","B":"3","C":"4","D":"8"},"correct":"B","explanation":"2ˣ = 8 = 2³, so x = 3."},
  {"id":"M44","section":"Math_NoCalc","category":"Polynomials","difficulty":5,"question":"Expand: (x + 3)(x - 4)","options":{"A":"x² - x - 12","B":"x² + x - 12","C":"x² - 7x + 12","D":"x² + 7x - 12"},"correct":"A","explanation":"x² - 4x + 3x - 12 = x² - x - 12."},
  {"id":"M45","section":"Math_NoCalc","category":"Rational Equations","difficulty":5,"question":"Solve: 3/x = 12","options":{"A":"x = 1/4","B":"x = 4","C":"x = 36","D":"x = 1/3"},"correct":"A","explanation":"3 = 12x → x = 3/12 = 1/4."},

  // Math Advanced - Calculator (20 questions)
  {"id":"M46","section":"Math_Calc","category":"Advanced Functions","difficulty":5,"question":"If f(x) = 2x³ - 5x² + 3x - 1, find f(-2).","options":{"A":"-31","B":"-39","C":"-23","D":"-15"},"correct":"B","explanation":"f(-2) = 2(-8) - 5(4) + 3(-2) - 1 = -16 - 20 - 6 - 1 = -39."},
  {"id":"M47","section":"Math_Calc","category":"Trigonometry","difficulty":5,"question":"If sin(θ) = 3/5 and θ is in quadrant I, find cos(θ).","options":{"A":"4/5","B":"3/4","C":"5/4","D":"2/5"},"correct":"A","explanation":"Use Pythagorean identity: cos²(θ) = 1 - (9/25) = 16/25. cos(θ) = 4/5 (positive in Q1)."},
  {"id":"M48","section":"Math_Calc","category":"Statistics","difficulty":5,"question":"A dataset has mean 50 and standard deviation 10. What is the z-score of 65?","options":{"A":"1.0","B":"1.5","C":"2.0","D":"2.5"},"correct":"B","explanation":"z = (x - μ)/σ = (65 - 50)/10 = 1.5."},
  {"id":"M49","section":"Math_Calc","category":"Circles","difficulty":5,"question":"A circle with center (3, -2) has radius 5. Which point is ON the circle?","options":{"A":"(6, 2)","B":"(3, 3)","C":"(7, -2)","D":"(8, -2)"},"correct":"A","explanation":"Distance from (3,-2) to (6,2) = √[(6-3)² + (2-(-2))²] = √[9+16] = 5 ✓"},
  {"id":"M50","section":"Math_Calc","category":"Probability","difficulty":5,"question":"If you flip 3 coins, what is the probability of getting exactly 2 heads?","options":{"A":"1/8","B":"1/4","C":"3/8","D":"1/2"},"correct":"C","explanation":"Outcomes: HHT, HTH, THH = 3 out of 8 total outcomes = 3/8."},
  {"id":"M51","section":"Math_Calc","category":"Exponential Growth","difficulty":5,"question":"If a population doubles every 5 years, what is the growth factor per year?","options":{"A":"1.149","B":"1.2","C":"1.414","D":"2"},"correct":"A","explanation":"(1+r)⁵ = 2 → 1+r = 2^(1/5) ≈ 1.149."},
  {"id":"M52","section":"Math_Calc","category":"Matrices","difficulty":5,"question":"What is the determinant of [[2,3],[4,5]]?","options":{"A":"-2","B":"2","C":"10","D":"22"},"correct":"A","explanation":"det = (2)(5) - (3)(4) = 10 - 12 = -2."},
  {"id":"M53","section":"Math_Calc","category":"Parabolas","difficulty":5,"question":"Find the axis of symmetry for y = 3x² - 12x + 7.","options":{"A":"x = 2","B":"x = -2","C":"x = 4","D":"x = 3"},"correct":"A","explanation":"Axis: x = -b/(2a) = 12/6 = 2."},
  {"id":"M54","section":"Math_Calc","category":"Word Problems","difficulty":5,"question":"A store marks up items 40%. If the original price is $25, what is the selling price?","options":{"A":"$30","B":"$32.50","C":"$35","D":"$37.50"},"correct":"C","explanation":"Markup = 25 × 0.40 = 10. Selling price = 25 + 10 = $35."},
  {"id":"M55","section":"Math_Calc","category":"Compound Interest","difficulty":5,"question":"$1000 invested at 5% annual interest compounded yearly. Value after 3 years?","options":{"A":"$1150","B":"$1157.63","C":"$1200","D":"$1125"},"correct":"B","explanation":"A = 1000(1.05)³ = 1000(1.157625) ≈ $1157.63."},
  {"id":"M56","section":"Math_Calc","category":"Distance Formula","difficulty":5,"question":"Find the distance between (-2, 3) and (4, -1).","options":{"A":"2√13","B":"6","C":"√52","D":"10"},"correct":"A","explanation":"d = √[(4-(-2))² + (-1-3)²] = √[36+16] = √52 = 2√13."},
  {"id":"M57","section":"Math_Calc","category":"Slope","difficulty":5,"question":"Find the slope of the line through (2, 5) and (6, 13).","options":{"A":"2","B":"3","C":"4","D":"1/2"},"correct":"A","explanation":"m = (13-5)/(6-2) = 8/4 = 2."},
  {"id":"M58","section":"Math_Calc","category":"Systems of Inequalities","difficulty":5,"question":"Which point satisfies BOTH x + y ≤ 5 AND x - y > 1?","options":{"A":"(4, 1)","B":"(2, 2)","C":"(3, 1)","D":"(1, 4)"},"correct":"C","explanation":"(3,1): 3+1=4≤5 ✓ and 3-1=2>1 ✓"},
  {"id":"M59","section":"Math_Calc","category":"Rational Functions","difficulty":5,"question":"Find the vertical asymptote of f(x) = 3/(x-4).","options":{"A":"x = 3","B":"x = 4","C":"x = -4","D":"y = 0"},"correct":"B","explanation":"Vertical asymptote where denominator = 0: x - 4 = 0 → x = 4."},
  {"id":"M60","section":"Math_Calc","category":"Combinations","difficulty":5,"question":"How many ways can you choose 2 students from a group of 5?","options":{"A":"5","B":"10","C":"15","D":"20"},"correct":"B","explanation":"C(5,2) = 5!/(2!3!) = (5×4)/(2×1) = 10."},
  {"id":"M61","section":"Math_Calc","category":"Logarithmic Equations","difficulty":5,"question":"Solve: log₃(x) = 4","options":{"A":"12","B":"64","C":"81","D":"256"},"correct":"C","explanation":"x = 3⁴ = 81."},
  {"id":"M62","section":"Math_Calc","category":"Vectors","difficulty":5,"question":"If vector v = <3, 4>, find its magnitude.","options":{"A":"5","B":"7","C":"12","D":"25"},"correct":"A","explanation":"|v| = √(3² + 4²) = √25 = 5."},
  {"id":"M63","section":"Math_Calc","category":"Sequences","difficulty":5,"question":"Find the sum of the first 10 terms of: 2, 4, 6, 8, ...","options":{"A":"100","B":"110","C":"120","D":"90"},"correct":"B","explanation":"Sum = n(first + last)/2 = 10(2 + 20)/2 = 110."},
  {"id":"M64","section":"Math_Calc","category":"Optimization","difficulty":5,"question":"A rectangular garden has perimeter 40m. To maximize area, dimensions should be:","options":{"A":"10m × 10m","B":"15m × 5m","C":"20m × 0m","D":"8m × 12m"},"correct":"A","explanation":"For fixed perimeter, square maximizes area: 10m × 10m = 100m²."},
  {"id":"M65","section":"Math_Calc","category":"Data Analysis","difficulty":5,"question":"If the correlation coefficient r = -0.85, this indicates:","options":{"A":"Strong positive correlation","B":"Strong negative correlation","C":"Weak correlation","D":"No correlation"},"correct":"B","explanation":"r close to -1 indicates strong negative correlation."},

  // Science Advanced (10 questions)
  {"id":"S16","section":"Science","category":"Experimental Design","difficulty":5,"question":"A scientist changes temperature while keeping all other variables constant. This is an example of:","options":{"A":"Observational study","B":"Controlled experiment","C":"Correlational study","D":"Case study"},"correct":"B","explanation":"Manipulating one variable while controlling others defines a controlled experiment."},
  {"id":"S17","section":"Science","category":"Graph Analysis","difficulty":5,"question":"A graph shows exponential decay. Which describes the relationship?","options":{"A":"y increases linearly with x","B":"y decreases rapidly at first, then levels off","C":"y remains constant","D":"y oscillates"},"correct":"B","explanation":"Exponential decay shows rapid initial decrease that slows over time."},
  {"id":"S18","section":"Science","category":"Hypothesis Testing","difficulty":5,"question":"A p-value of 0.03 means:","options":{"A":"Results are 3% likely to occur by chance if null hypothesis is true","B":"97% confidence","C":"Experiment failed","D":"Data is invalid"},"correct":"A","explanation":"p-value represents probability of results occurring by chance under null hypothesis."},
  {"id":"S19","section":"Science","category":"Data Interpretation","difficulty":5,"question":"Two variables show r = 0.95. This indicates:","options":{"A":"Causation","B":"Strong positive correlation","C":"No relationship","D":"Weak correlation"},"correct":"B","explanation":"r close to +1 indicates strong positive correlation (but not necessarily causation)."},
  {"id":"S20","section":"Science","category":"Scientific Method","difficulty":5,"question":"Which step comes FIRST in the scientific method?","options":{"A":"Experiment","B":"Hypothesis","C":"Observation/Question","D":"Conclusion"},"correct":"C","explanation":"Scientific method begins with observation and questioning."},
  {"id":"S21","section":"Science","category":"Variables","difficulty":5,"question":"In 'Does fertilizer amount affect plant height?', what is the dependent variable?","options":{"A":"Fertilizer amount","B":"Plant height","C":"Plant type","D":"Water amount"},"correct":"B","explanation":"Dependent variable (plant height) depends on the independent variable (fertilizer)."},
  {"id":"S22","section":"Science","category":"Statistical Analysis","difficulty":5,"question":"Standard deviation measures:","options":{"A":"Central tendency","B":"Spread/variability of data","C":"Sample size","D":"Correlation"},"correct":"B","explanation":"Standard deviation quantifies how spread out data points are from the mean."},
  {"id":"S23","section":"Science","category":"Research Design","difficulty":5,"question":"A double-blind study means:","options":{"A":"Two experiments run simultaneously","B":"Neither participants nor researchers know who receives treatment","C":"Study is done twice","D":"Uses two control groups"},"correct":"B","explanation":"Double-blind design prevents bias by keeping both groups unaware of treatment assignment."},
  {"id":"S24","section":"Science","category":"Data Validity","difficulty":5,"question":"To increase validity of results, a scientist should:","options":{"A":"Use small sample size","B":"Increase sample size and repeat trials","C":"Change variables randomly","D":"Skip control group"},"correct":"B","explanation":"Larger samples and repeated trials increase reliability and validity."},
  {"id":"S25","section":"Science","category":"Graph Interpretation","difficulty":5,"question":"A scatterplot shows points clustered in upper-right. This suggests:","options":{"A":"Negative correlation","B":"No correlation","C":"Positive correlation","D":"Invalid data"},"correct":"C","explanation":"Upper-right clustering indicates both variables increase together (positive correlation)."}
];

/**
 * Adaptive Difficulty Logic
 * Selects questions based on student performance
 */
function getAdaptiveQuestions(performanceScore, count = 40) {
    const questions = [];
    
    // If student scores > 70% on baseline, mix in advanced questions
    if (performanceScore > 70) {
        // 50% baseline, 50% advanced
        const baselineCount = Math.floor(count / 2);
        const advancedCount = count - baselineCount;
        
        questions.push(...shuffleArray(baselineQuestions).slice(0, baselineCount));
        questions.push(...shuffleArray(advancedQuestions).slice(0, advancedCount));
    } else {
        // Use only baseline questions
        questions.push(...shuffleArray(baselineQuestions).slice(0, count));
    }
    
    return shuffleArray(questions);
}

/**
 * Shuffle array helper
 */
function shuffleArray(array) {
    const shuffled = [...array];
    for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled;
}

/**
 * Calculate estimated test scores based on diagnostic results
 */
function calculateEstimatedScores(results) {
    const { totalQuestions, correctAnswers, sectionScores } = results;
    const percentageScore = (correctAnswers / totalQuestions) * 100;
    
    // SAT Score Estimation (400-1600)
    const satEstimate = Math.round(400 + (percentageScore / 100) * 1200);
    
    // ACT Score Estimation (1-36)
    const actEstimate = Math.round(1 + (percentageScore / 100) * 35);
    
    // PSAT Score Estimation (320-1520)
    const psatEstimate = Math.round(320 + (percentageScore / 100) * 1200);
    
    return {
        sat: satEstimate,
        act: actEstimate,
        psat: psatEstimate,
        percentage: Math.round(percentageScore),
        breakdown: sectionScores
    };
}

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
    module.exports = {
        baselineQuestions,
        advancedQuestions,
        getAdaptiveQuestions,
        calculateEstimatedScores
    };
}

// Make available globally for browser use
if (typeof window !== 'undefined') {
    window.DiagnosticQuestions = {
        baselineQuestions,
        advancedQuestions,
        getAdaptiveQuestions,
        calculateEstimatedScores
    };
}
